import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import os
import glob

# Define the directory path
directory_path = r"C:\Users\16135\csv_test"  # Ensure no trailing backslash

# Use glob to find all CSV files in the directory
csv_files = glob.glob(os.path.join(directory_path, "*.csv"))

# Check if any CSV files were found
if not csv_files:
    print(f"No CSV files found in {directory_path}")
    exit()

# Loop through each CSV file
for csv_file_path in csv_files:
    try:
        # Read the CSV file
        data = pd.read_csv(csv_file_path)
        file_name = os.path.basename(csv_file_path)  # Extract the file name

        # Plot the data
        plt.figure(figsize=(15, 5))

        # Distance vs Time
        plt.subplot(1, 3, 1)
        plt.plot(data["Time"], data["Distance"], marker='o', linestyle='-', color='b')
        plt.title(f'Distance vs Time ({file_name})')
        plt.xlabel('Time')
        plt.ylabel('Distance')
        plt.grid(True)

        # Velocity vs Time
        plt.subplot(1, 3, 2)
        plt.plot(data["Time"], data["Velocity"], marker='o', linestyle='-', color='r')
        plt.title(f'Velocity vs Time ({file_name})')
        plt.xlabel('Time')
        plt.ylabel('Velocity')
        plt.grid(True)

        # Acceleration vs Time
        plt.subplot(1, 3, 3)
        plt.plot(data["Time"], data["Acceleration"], marker='o', linestyle='-', color='g')
        plt.title(f'Acceleration vs Time ({file_name})')
        plt.xlabel('Time')
        plt.ylabel('Acceleration')
        plt.grid(True)

        plt.tight_layout()
        plt.show()

    except Exception as e:
        print(f"Error processing {csv_file_path}: {e}")
